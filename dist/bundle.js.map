{"version":3,"sources":["webpack:///webpack/bootstrap 016c35cb5f3f9c0efa33","webpack:///./public/components/app.jsx"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 016c35cb5f3f9c0efa33\n **/","//input syntax:  {\n//  targetKeyCode1: \"/path/to/source/file.wav\",\n//  targetKeyCode2: \"/path/to/next/source.wav\"\n//  ...\n//}\nvar testData = {\n  97: \"/soundfiles/deep-techno-groove.wav\",\n  98: \"/soundfiles/bam-bam-bolam.wav\",\n  99: \"/soundfiles/nyan-cat.wav\",\n  100: \"/soundfiles/day.wav\",\n  101: \"/soundfiles/beads.wav\",\n  102: \"/soundfiles/drums.wav\",\n  103: \"/soundfiles/pew-pew.wav\",\n  104: \"/soundfiles/grendel.wav\",\n  105: \"/soundfiles/derp-yell.wav\",\n  106: \"/soundfiles/beltbuckle.wav\",\n  107: \"/soundfiles/oh-yeah.wav\",\n  108: \"/soundfiles/power-up.wav\",\n  109: \"/soundfiles/straight-techno-beat.wav\",\n  110: \"/soundfiles/kamehameha.wav\",\n  111: \"/soundfiles/fart.wav\",\n  112: \"/soundfiles/heavy-rain.wav\",\n  113: \"/soundfiles/jet-whoosh.wav\",\n  114: \"/soundfiles/mystery-chime.ogg\",\n  115: \"/soundfiles/space-bloop.wav\",\n  116: \"/soundfiles/techno-drums2.wav\",\n  117: \"/soundfiles/whale.wav\",\n  118: \"/soundfiles/vegeta-big-bang.wav\",\n  119: \"/soundfiles/piano-mood.wav\",\n  120: \"/soundfiles/boing-a.wav\",\n  121: \"/soundfiles/techno-drums.wav\",\n  122: \"/soundfiles/guitar-chord.wav\"\n};\n\nvar qwertyMap = [\n 113,\n 119,\n 101,\n 114,\n 116,\n 121,\n 117,\n 105,\n 111,\n 112,\n 0,\n 97,\n 115,\n 100,\n 102,\n 103,\n 104,\n 106,\n 107,\n 108,\n 0,\n 122,\n 120,\n 99,\n 118,\n 98,\n 110,\n 109\n];\n\n//sample input:\n//This example would bind the 'a' key to the \"example.wav\" file.\n//{\n//  65: '/path/to/example'\n//}\n\n//For a comprehensive list of keycode bindings, see \"keycode.js\"\n//in this same directory.\n\n//VKey React class.  Represents one key on our virtual keyboard.\nvar VKey = React.createClass ({\n  //method for removing styling from key after its audio element has stopped playing.\n  handleAudioEnd: function (event) {\n    var $vKey = $('#' + this.props.keyId).parent();\n\n    $vKey.removeClass('green red pressed');\n    event.preventDefault();\n    this.render();\n  },\n\n  render: function() {\n    return (\n      <div className=\"key\">\n        <p className=\"keyLabel\">{keyCodes[this.props.keyId]}</p>\n        <p className=\"filename\">{ this.props.path.substr(12).slice(0, -4).split(\"-\").join(\" \")}</p>\n        <audio id={this.props.keyId} src={ this.props.path } onEnded={ this.handleAudioEnd } preload=\"auto\"></audio>\n      </div>  //\n    )\n  }\n});\n\n//RebindNode React class.  Represents one entry in the drop-down list for rebinding keys.\nvar RebindNode = React.createClass({\n  //this is the function that actually changes the binding of the key.\n  updateKeyBinding: function(event) {\n    var code = this.props.targetKey.charCodeAt();\n    var path = \"/soundfiles/\" + this.props.targetSong;\n\n    this.props.bindings.forEach(function (ele, idx) {\n      if (ele.key === code) {\n        this.props.bindings[idx].path = path;\n      }\n    }, this);\n  },\n  //method for previewing sound before binding it.\n  playSample: function() {\n    var soundExample = window.location.href + \"soundFiles/\" + this.props.targetSong;\n    var $soundNode = document.getElementById('secretSound');\n\n    $soundNode.pause();\n    $soundNode.src = soundExample;\n    $soundNode.currentTime = 0;\n    $soundNode.play();\n  },\n  render: function() {\n    return (\n      <div className=\"rebindNode\" onClick = {this.updateKeyBinding}>\n        <p className=\"rebindSong\" onClick = {this.props.reRender}> {this.props.targetSong.slice(0, -4).split(\"-\").join(\" \")} </p>\n        <img className=\"rebindIcon\" src=\"assets/listen.png\" onClick={this.playSample}/>\n      </div>\n    )\n  }\n});\n//\n\n\n// App React class.  Contains a number of methods which control the audio, as well as rendering pretty much the whole damn app.\nvar App = React.createClass({\n  //declaring some states.\n  getInitialState: () => (\n     {\n      bindings: [],\n      soundList: [],\n      changeKey: \"\"\n    }\n  ),\n  //once the component mounts, we set those states equal to the correct data.  We also hide the binding window using JQuery until it is required.\n  componentDidMount: function() {\n    $('#bindingWindow').hide();\n    this.serverRequest = $.get(window.location.href + \"sounds\", function (result) {\n      this.setState({\n        soundList: result,\n        bindings: qwertyMap.map(function(key) {\n          return key !== 0\n            ? {key: key, path: testData[key], loop: false, playing: false}\n            : 0;\n        })\n      });\n    }.bind(this));\n\n    window.addEventListener('keypress', this.handleKeyPress);\n  },\n\n  componentWillUnmount: function() {\n    this.serverRequest.abort();//not sure what this is for but online said to put it in.\n  },\n\n\n  //this is our keyhandler function.  It handles all keypress events on the DOM.  Plays/stops the appropriate sound file,\n  //as well as changing the styling on the appropriate hey.\n  handleKeyPress: function(event) {\n    //store all our relevent DOM elements as variables so that we can reference them easily later.\n    var key = event.code.toLowerCase()[3],\n        keyNumber = key.charCodeAt(),\n        $audio = document.getElementById(keyNumber),\n        $vKey = $('#' + keyNumber).parent();\n\n    //handles the ctrl+key menu drop.\n    if (event.ctrlKey && $('#keyboardWindow').is(':visible')) {\n      if (keyNumber < 123 && keyNumber > 96) {\n        this.setState({changeKey: key})\n        this.handleCtrlKey();\n      }\n    } else if (event.shiftKey) { //handles the shift+key loop functionality\n      $vKey.addClass('red pressed');\n      this.handleShiftKey($audio, event);\n    } else {  //handles a bare keypress.\n      this.triggerKey($vKey, $audio);\n    }\n  },\n\n  //All this does is change the styling of a key as appropriate, and plays/pauses the audio element as appropriate.\n  triggerKey: function($vKey, $audio) {\n    $vKey.addClass('green pressed');\n    $audio.currentTime = 0;\n\n    if ($audio.paused) {\n      $audio.play()\n    }\n    else {\n      $audio.pause()\n      $vKey.removeClass('green red pressed');\n    }\n    event.preventDefault();\n  },\n  //Hides and shows the rebinding menu using jQuery.\n  handleCtrlKey: function() {\n    $('#bindingWindow').animate({height:'toggle'},350);\n    $('#keyboardWindow').animate({width:'toggle'},350);\n  },\n\n  //Sets the specified audio element to loop, then plays/pauses and styles as appropriate.\n  handleShiftKey: function($audio, event) {\n    var key = event.code.toLowerCase()[3],\n      keyNumber = key.charCodeAt(),\n      $vKey = $('#' + keyNumber).parent();\n    $audio.loop = !$audio.loop\n    $audio.currentTime = 0;\n    if ($audio.paused ) {\n      $audio.play();\n    } else {\n      $audio.pause();\n      $vKey.removeClass('green red pressed');\n    }\n  },\n\n  //useful helper for re-rendering DOM when a new binding is assigned.\n  reRender: function() {\n    $('#bindingWindow').animate({height:'toggle'},350);\n    $('#keyboardWindow').animate({width:'toggle'},350);\n    ReactDOM.render(<div>\n      <App/>\n      </div>, document.getElementById('app')\n    );\n  },\n\n\n  render: function() {\n   return (\n     <div id=\"appWindow\">\n       <div id = \"bindingWindow\">\n         <h3>Click on a file to change the binding of {this.state.changeKey.toUpperCase()} to</h3>\n           <ul id=\"binding\">\n           {\n             this.state.soundList.map( (sound, idx) => ( //es6 again\n               <RebindNode key={idx} targetSong = {sound} targetKey = {this.state.changeKey} bindings = {this.state.bindings} reRender={this.reRender}/>\n             ), this)\n           }\n           </ul>\n       </div>\n       <div id='keyboardWindow' className=\"keyboard\">\n       {\n         this.state.bindings.map( (keyBinding, idx) => //yay es6\n           keyBinding === 0\n            ? <br key={idx}/>\n            : <VKey key={idx} keyId = {keyBinding.key} path={keyBinding.path}/>\n         )\n       }\n       </div>\n     </div>\n   )\n }\n})\n\nsetTimeout(function() {\n  document.getElementById('secretSound').pause();\n  ReactDOM.render(<div>\n    <App/>\n    </div>, document.getElementById('app')\n  );\n\n}, 2000);\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/components/app.jsx\n **/"],"sourceRoot":""}