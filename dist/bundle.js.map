{"version":3,"sources":["webpack:///webpack/bootstrap c2526efefea260c6e5a5","webpack:///./public/components/app.jsx"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c2526efefea260c6e5a5\n **/","//sample input:\n//This example would bind the 'a' key to the \"example.wav\" file.\n//{\n//  65: '/path/to/example'\n//}\n\n//For a comprehensive list of keycode bindings, see \"keycode.js\"\n//in this same directory.\n\n// App React class.  Contains a number of methods which control the audio, as well as rendering pretty much the whole damn app.\nvar App = React.createClass({\n  //declaring some states.\n  getInitialState: () => (\n     {\n      bindings: [],\n      soundList: [],\n      changeKey: \"\"\n    }\n  ),\n  //once the component mounts, we set those states equal to the correct data.  We also hide the binding window using JQuery until it is required.\n  componentDidMount: function() {\n    $('#bindingWindow').hide();\n    this.serverRequest = $.get(window.location.href + \"sounds\", function (result) {\n      this.setState({\n        soundList: result,\n        bindings: qwertyMap.map(function(key) {\n          return key !== 0\n            ? {key: key, path: defaultData[key], loop: false, playing: false}\n            : 0;\n        })\n      });\n    }.bind(this));\n    //OSX and MAC reserve functionality of either the alt or ctrl key, this checks the OS\n    // and sets the rebind-key trigger to be that specific keypress\n    navigator.appVersion.includes(\"Windows\")\n      ? this.setState({bindTrigger: \"altKey\"})\n      : this.setState({bindTrigger: \"ctrlKey\"});\n\n      //one event listener for all keypresses.\n    window.addEventListener('keypress', this.handleKeyPress);\n  },\n\n//I'm not sure why this is important but online resources say put it in and it doesn't break anything.\n  componentWillUnmount: function() {\n    this.serverRequest.abort();\n  },\n\n\n  //this is our keyhandler function.  It handles all keypress events on the DOM.  Plays/stops the appropriate sound file,\n  //as well as changing the styling on the appropriate hey.\n  handleKeyPress: function(event) {\n    //store all our relevent DOM elements as variables so that we can reference them easily later.\n    var key = event.code.toLowerCase()[3],\n        keyNumber = key.charCodeAt(),\n        $audio = document.getElementById(keyNumber),\n        $vKey = $('#' + keyNumber).parent();\n\n    // handles the ctrl+key menu drop.\n    // originally checked boolean value [ event.ctrlKey ] to check to see if ctrl was\n    // held down or not. Now this.state.bindTrigger is declared upon component mount to\n    // be ctrlKey for mac OSX and altKey for windows.\n    if (event[this.state.bindTrigger] && $('#keyboardWindow').is(':visible')) {\n      if (keyNumber < 123 && keyNumber > 96) {\n        this.setState({changeKey: key})\n        this.handleCtrlKey();\n      }\n    } else if (event.shiftKey) { //handles the shift+key loop functionality\n      $vKey.addClass('red pressed');\n      this.handleShiftKey($audio, event);\n    } else {  //handles a bare keypress.\n      this.triggerKey($vKey, $audio);\n    }\n  },\n\n  //All this does is change the styling of a key as appropriate, and plays/pauses the audio element as appropriate.\n  triggerKey: function($vKey, $audio) {\n    $vKey.addClass('green pressed');\n    $audio.currentTime = 0;\n\n    if ($audio.paused) {\n      $audio.play()\n    }\n    else {\n      $audio.pause()\n      $vKey.removeClass('green red pressed');\n    }\n    event.preventDefault();\n  },\n  //Hides and shows the rebinding menu using jQuery.\n  handleCtrlKey: function() {\n    $('#bindingWindow').animate({height:'toggle'},350);\n    $('#keyboardWindow').animate({width:'toggle'},350);\n  },\n\n  //Sets the specified audio element to loop, then plays/pauses and styles as appropriate.\n  handleShiftKey: function($audio, event) {\n    var key = event.code.toLowerCase()[3],\n      keyNumber = key.charCodeAt(),\n      $vKey = $('#' + keyNumber).parent();\n    $audio.loop = !$audio.loop\n    $audio.currentTime = 0;\n    if ($audio.paused ) {\n      $audio.play();\n    } else {\n      $audio.pause();\n      $vKey.removeClass('green red pressed');\n    }\n  },\n\n  //useful helper for re-rendering DOM when a new binding is assigned.\n  reRender: function() {\n    $('#bindingWindow').animate({height:'toggle'},350);\n    $('#keyboardWindow').animate({width:'toggle'},350);\n    ReactDOM.render(<div>\n      <App/>\n      </div>, document.getElementById('app')\n    );\n  },\n\n\n  render: function() {\n   return (\n     <div id=\"appWindow\">\n       <div id = \"bindingWindow\">\n         <h3>Click on a file to change the binding of {this.state.changeKey.toUpperCase()} to</h3>\n           <ul id=\"binding\">\n           {\n             this.state.soundList.map( (sound, idx) => ( //es6 again\n               <RebindNode key={idx} targetSong = {sound} targetKey = {this.state.changeKey} bindings = {this.state.bindings} reRender={this.reRender}/>\n             ), this)\n           }\n           </ul>\n       </div>\n       <div id='keyboardWindow' className=\"keyboard\">\n       {\n         this.state.bindings.map( (keyBinding, idx) => //yay es6\n           keyBinding === 0\n            ? <br key={idx}/>\n            : <VKey key={idx} keyId = {keyBinding.key} path={keyBinding.path}/>\n         )\n       }\n       </div>\n     </div>\n   )\n }\n})\n\n//This simulates a loading page. In all of our tests the server loaded the sound\n//files instantly but by the time we noticed this we already had an awesome\n//loading page up and running. This timeout feature honors that hard work\nsetTimeout(function() {\n  document.getElementById('secretSound').pause();\n  ReactDOM.render(<div>\n    <App/>\n    </div>, document.getElementById('app')\n  );\n\n}, 4000);\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/components/app.jsx\n **/"],"sourceRoot":""}